---
title: "Matching"
output: html_notebook
---

```{r}
#library(csv)
library("MatchIt")
library(data.table)
```

```{r}
df = read.csv("/Users/zwanran/Desktop/STAT27420/Final/STAT27420-final-code/Data/data/comprehensive_new.csv")
df = as.data.table(df)
```

```{r}
df[, success:= ifelse(df$discoveryaspoPC>0 & !is.na(df$discoveryaspoPC), 1, ifelse(discoveryaspoPC==0, 0, NULL))]
#df[, success:= ifelse(df$discoveryaspoPC>0 & !is.na(df$discoveryaspoPC) & df$smpl==1, 1, ifelse(discoveryaspoPC==0 & df$smpl==1, 0, NaN))]
m.out <- matchit(success, ecgrowth, method = "nearest", distance = "glm")
```